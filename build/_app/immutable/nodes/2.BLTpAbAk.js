import{p as n1,i as U,j as L,r as o1,k as H,l as i1,n as m,m as w,q as u1,h as S,d as x,t as F,v as _,f as h,g as l1,c as c1,b as f1,a as d1}from"../chunks/disclose-version.BHSQxdWL.js";import{p as D,a as G,g as s,u as g1}from"../chunks/runtime.wzkfRzgv.js";import{u as p1,s as V,a as B,b as g}from"../chunks/store.BWYSoX8z.js";import{o as v1}from"../chunks/main-client.Cfa_bsPt.js";import{w as y1,d as m1}from"../chunks/index.BB-8NQVx.js";const n={};n.suraPageStart=[1,2,50,77,106,128,151,177,187,208,221,235,249,255,262,267,282,293,305,312,322,332,342,350,359,367,377,385,396,404,411,415,418,428,434,440,446,453,458,467,477,483,489,496,499,502,507,511,515,518,520,523,526,528,531,534,537,542,545,549,551,553,554,556,558,560,562,564,566,568,570,572,574,575,577,578,580,582,583,585,586,587,587,589,590,591,591,592,593,594,595,595,596,596,597,597,598,598,599,599,600,600,601,601,601,602,602,602,603,603,603,604,604,604];n.pageSuraStart=[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,14,14,14,14,14,14,15,15,15,15,15,15,16,16,16,16,16,16,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,30,30,30,30,30,30,31,31,31,31,32,32,32,33,33,33,33,33,33,33,33,33,33,34,34,34,34,34,34,34,35,35,35,35,35,35,36,36,36,36,36,37,37,37,37,37,37,37,38,38,38,38,38,38,39,39,39,39,39,39,39,39,39,40,40,40,40,40,40,40,40,40,41,41,41,41,41,41,42,42,42,42,42,42,42,43,43,43,43,43,43,44,44,44,45,45,45,45,46,46,46,46,47,47,47,47,48,48,48,48,48,49,49,50,50,50,51,51,51,52,52,53,53,53,54,54,54,55,55,55,56,56,56,57,57,57,57,58,58,58,58,59,59,59,60,60,60,61,62,62,63,64,64,65,65,66,66,67,67,67,68,68,69,69,70,70,71,72,72,73,73,74,74,75,76,76,77,78,78,79,80,81,82,83,83,85,86,87,89,89,91,92,95,97,98,100,103,106,109,112];n.pageAyaStart=[1,1,6,17,25,30,38,49,58,62,70,77,84,89,94,102,106,113,120,127,135,142,146,154,164,170,177,182,187,191,197,203,211,216,220,225,231,234,238,246,249,253,257,260,265,270,275,282,283,1,10,16,23,30,38,46,53,62,71,78,84,92,101,109,116,122,133,141,149,154,158,166,174,181,187,195,1,7,12,15,20,24,27,34,38,45,52,60,66,75,80,87,92,95,102,106,114,122,128,135,141,148,155,163,171,176,3,6,10,14,18,24,32,37,42,46,51,58,65,71,77,83,90,96,104,109,114,1,9,19,28,36,45,53,60,69,74,82,91,95,102,111,119,125,132,138,143,147,152,158,1,12,23,31,38,44,52,58,68,74,82,88,96,105,121,131,138,144,150,156,160,164,171,179,188,196,1,9,17,26,34,41,46,53,62,70,1,7,14,21,27,32,37,41,48,55,62,69,73,80,87,94,100,107,112,118,123,1,7,15,21,26,34,43,54,62,71,79,89,98,107,6,13,20,29,38,46,54,63,72,82,89,98,109,118,5,15,23,31,38,44,53,64,70,79,87,96,104,1,6,14,19,29,35,43,6,11,19,25,34,43,1,16,32,52,71,91,7,15,27,35,43,55,65,73,80,88,94,103,111,119,1,8,18,28,39,50,59,67,76,87,97,105,5,16,21,28,35,46,54,62,75,84,98,1,12,26,39,52,65,77,96,13,38,52,65,77,88,99,114,126,1,11,25,36,45,58,73,82,91,102,1,6,16,24,31,39,47,56,65,73,1,18,28,43,60,75,90,105,1,11,21,28,32,37,44,54,59,62,3,12,21,33,44,56,68,1,20,40,61,84,112,137,160,184,207,1,14,23,36,45,56,64,77,89,6,14,22,29,36,44,51,60,71,78,85,7,15,24,31,39,46,53,64,6,16,25,33,42,51,1,12,20,29,1,12,21,1,7,16,23,31,36,44,51,55,63,1,8,15,23,32,40,49,4,12,19,31,39,45,13,28,41,55,71,1,25,52,77,103,127,154,1,17,27,43,62,84,6,11,22,32,41,48,57,68,75,8,17,26,34,41,50,59,67,78,1,12,21,30,39,47,1,11,16,23,32,45,52,11,23,34,48,61,74,1,19,40,1,14,23,33,6,15,21,29,1,12,20,30,1,10,16,24,29,5,12,1,16,36,7,31,52,15,32,1,27,45,7,28,50,17,41,68,17,51,77,4,12,19,25,1,7,12,22,4,10,17,1,6,12,6,1,9,5,1,10,1,6,1,8,1,13,27,16,43,9,35,11,40,11,1,14,1,20,18,48,20,6,26,20,1,31,16,1,1,1,7,35,1,1,16,1,24,1,15,1,1,8,10,1,1,1,1];n.suraNumAyas=[7,286,200,176,120,165,206,75,129,109,123,111,43,52,99,128,111,110,98,135,112,78,118,64,77,227,93,88,69,60,34,30,73,54,45,83,182,88,75,85,54,53,89,59,37,35,38,29,18,45,60,49,62,55,78,96,29,22,24,13,14,11,11,18,12,12,30,52,52,44,28,28,20,56,40,31,50,40,46,42,29,19,36,25,22,17,19,26,30,20,15,21,11,8,8,19,5,8,8,11,11,8,3,9,5,4,7,3,6,3,5,4,5,6];n.juzSuraAya=[[1,1],[2,142],[2,253],[3,93],[4,24],[4,148],[5,82],[6,111],[7,88],[8,41],[9,93],[11,6],[12,53],[15,1],[17,1],[18,75],[21,1],[23,1],[25,21],[27,56],[29,46],[33,31],[36,28],[39,32],[41,47],[46,1],[51,31],[58,1],[67,1],[78,1]];function S1(e){const[r,a]=n.ayaIndex[e];return h1(r+1,a+1)}function x1(e){if(e>n.ayaIndex.length-1)return 0;let r=-1;return n.juzAyaIndex.forEach((a,t)=>{e>=a&&(r=t)}),r>=0?r+1:0}function h1(e,r){if(r===0&&(r=1),e<1||e>114||r<1||r>286)return-1;let a=n.suraPageStart[e-1]-1;for(;a<604;){const t=n.pageSuraStart[a];if(t>e||t===e&&n.pageAyaStart[a]>r)break;a++}return a}function j(e){return n.ayaIndex.findIndex(r=>r[0]==n.pageSuraStart[e-1]-1&&r[1]==n.pageAyaStart[e-1]-1)}function T(e){return n.ayaIndex.findIndex(r=>r[0]==e-1&&r[1]==0)}function K(e,r){return n.ayaIndex.findIndex(a=>a[0]==e-1&&a[1]==r-1)}function M(e){const[r,a]=n.juzSuraAya[e-1];return K(r,a)}n.ayaIndex=[];n.juzAyaIndex=[];n.suraStarts=[];(function(){for(let e=0;e<n.suraNumAyas.length;e++){const r=n.suraNumAyas[e];n.suraStarts.push(n.ayaIndex.length);for(let a=0;a<r;a++)n.ayaIndex.push([e,a])}n.juzSuraAya.forEach((e,r)=>{n.juzAyaIndex[r]=K(e[0],e[1])})})();function A(e){const[r,a]=n.ayaIndex[e],t=(r+1).toString().padStart(3,"0"),c=(a+1).toString().padStart(3,"0");return`https://tanzil.net/res/audio/muaiqly/${`${t}${c}.mp3`}`}function A1(e,r){const a=new window.AudioContext,t=a.createOscillator();t.type="sine",t.frequency.setValueAtTime(r,a.currentTime),t.connect(a.destination),t.start(),setTimeout(function(){t.stop()},e)}let $=!1;async function b1(){try{$=await navigator.wakeLock.request("screen")}catch{return!1}}async function I1(){if($===!1)return!1;try{return await $.release()}catch{return!1}}function z1(e,r){const a=localStorage.getItem(e),t=a?JSON.parse(a):r,c=y1(t,()=>c.subscribe(y=>{localStorage.setItem(e,JSON.stringify(y))}));return c}var w1=l1('<button class="svelte-17v6gov"><div class="info svelte-17v6gov"> <br> </div> <audio preload="auto"></audio> <div class="wrap idle svelte-17v6gov"><div class="scroller svelte-17v6gov"><div class="circle svelte-17v6gov"> </div> <div class="sensor top svelte-17v6gov"></div> <div class="sensor right svelte-17v6gov"></div> <div class="sensor bottom svelte-17v6gov"></div> <div class="sensor left svelte-17v6gov"></div></div></div></button>');function _1(e,r){G(r,!1);const a={};p1(a);const t=()=>V(Q,"$current",a),c=()=>V(f,"$currentIndex",a);let o=w(),y=w(),l=w(),b,I,z,f=z1("index",0);const Q=m1(f,u=>{const[d,v]=n.ayaIndex[u];return{juz:x1(u),page:S1(u),sura:d+1,aya:v+1,url:A(u)}});let p=w(!1),P=[];const i={togglePlayer(){x(p,!s(p)),s(p)?b1():I1()},nextAya(){if(c()>=n.ayaIndex.length-1){s(p)&&x(p,!1);return}B(f,c())},prevAya(){c()>0&&B(f,c(),-1)},nextPage(){t().page>=604||g(f,j(t().page+1))},prevPage(){t().page<=1||g(f,j(t().page-1))},nextSura(){t().sura>=114||g(f,T(t().sura+1))},prevSura(){t().sura<=1||g(f,T(t().sura-1))},nextJuz(){t().juz>=30||g(f,M(t().juz+1))},prevJuz(){t().juz<=1||g(f,M(t().juz-1))},firstSura(){g(f,0)},lastSura(){g(f,T(114))}},R={left:i.nextPage,right:i.prevPage,top:i.prevAya,bottom:i.nextAya,"left,top":i.nextSura,"top,left":i.nextSura,"right,top":i.prevSura,"top,right":i.prevSura,"left,left":i.nextJuz,"left,right,left":i.nextJuz,"right,right":i.prevJuz,"right,left,right":i.prevJuz,"left,top,bottom":i.firstSura,"left,bottom,top":i.firstSura,"right,top,bottom":i.lastSura,"right,bottom,top":i.lastSura};function q(){m(o,s(o).style.overflow="hidden"),m(o,s(o).scrollLeft=(s(y).offsetWidth-s(o).offsetWidth)/2),m(o,s(o).scrollTop=(s(y).offsetHeight-s(o).offsetHeight)/2),setTimeout(()=>{m(o,s(o).style.overflow="scroll")},100)}function X(){q(),Y(P),P=[]}function Y(u){if(u.length==0)return i.togglePlayer();const d=u.join(",");console.log(d);const v=R[d];v&&v()}function Z(){const u=new IntersectionObserver(e1,{root:s(o),threshold:.3});s(o).querySelectorAll(".sensor").forEach(d=>u.observe(d))}function e1(u){const d=[];u.forEach(v=>{v.isIntersecting&&d.push(v.target.classList[1])}),d.length&&(P.push(d.join(",")),A1(50,1e3))}function E(){c()<n.ayaIndex.length-1&&(b.src=A(c()+1),b.load()),t().page<604&&(I.src=A(j(t().page+1)),I.load()),t().sura<114&&(z.src=A(j(t().sura+1)),z.load())}v1(()=>{q(),Z(),b=new Audio,b.preload="auto",I=new Audio,I.preload="auto",z=new Audio,z.preload="auto",m(l,s(l).src=A(c())),s(l).load(),E()}),n1(()=>{s(p),s(l),t(),s(o),g1(()=>{s(p)?(s(l).src!=t().url&&(m(l,s(l).src=t().url),s(l).load()),s(l).play(),E(),s(o).classList.remove("idle")):(s(l)&&s(l).pause(),s(o)&&s(o).classList.add("idle"))})}),U();var k=u1(e,!0,w1),N=h(k),O=h(N),t1=S(O),r1=S(t1,!0),J=S(S(N,!0));L(J,u=>x(l,u),()=>s(l));var W=S(S(J,!0));L(W,u=>x(o,u),()=>s(o));var C=h(W);L(C,u=>x(y,u),()=>s(y));var a1=h(C),s1=h(a1);o1(()=>{F(O,`Page: ${_(t().page)}`),F(r1,`Juz: ${_(t().juz)}`),F(s1,`${_(t().sura)}:${_(t().aya)}`)}),H("touchend",k,X,!1,!0),H("ended",J,i.nextAya,!1),i1(e,k),D()}function F1(e,r){G(r,!1),U();var a=f1(e),t=d1(a);_1(t,{}),c1(e,a),D()}export{F1 as component};
